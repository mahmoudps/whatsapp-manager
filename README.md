# WhatsApp Manager

ูุธุงู ูุฅุฏุงุฑุฉ ุฑุณุงุฆู ูุงุชุณุงุจ ุนุจุฑ ูุงุฌูุฉ ููุจ ูุจูู ุนูู Next.js ูNode.js. ูููุฑ ุฅููุงููุฉ ุงูุชุญูู ูู ุงูุฃุฌูุฒุฉ ูุงูุฑุณุงุฆู ูุน ุฏุนู ุงููุดุฑ ุจุงุณุชุฎุฏุงู PM2 ุฃู Docker.

## ุงููุชุทูุจุงุช

- **Node.js:** >= 18.17.0
- **npm:** >= 9.0.0
- **SQLite:** 3.37+
- **Chromium/Chrome:** ููุชูุงุนู ูุน ูุงุชุณุงุจ ููุจ

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฃูุงู:** ุชุฃูุฏ ูู ุชุบููุฑ ูููุฉ ูุฑูุฑ ุงููุฏูุฑ ุงูุงูุชุฑุงุถูุฉ
2. **ุงูุจูุฆุฉ:** ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู ููู `.env` ููุฅุนุฏุงุฏุงุช ุงูุญุณุงุณุฉ.
   ุนูุฏ ุงูุฅุนุฏุงุฏ ุงูุฃูููุ ุงูุณุฎ ุงูููู `.env.example` ุฅูู `.env` ุซู ุนุฏู ุงูููู ุญุณุจ ุงูุญุงุฌุฉ
3. **ุงููุณุฎ ุงูุงุญุชูุงุทู:** ูู ุจุนูู ูุณุฎ ุงุญุชูุงุทูุฉ ุฏูุฑูุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช
4. **ุงูุชุญุฏูุซุงุช:** ุฑุงูุจ ุงูุชุญุฏูุซุงุช ุงูุฃูููุฉ ููููุชุจุงุช

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

ูู ุญุงูุฉ ูุฌูุฏ ุฃู ูุดุงูู:

1. ุชุญูู ูู ุณุฌูุงุช ุงููุธุงู: `npm run logs`
2. ุฃุนุฏ ุชุดุบูู ุงููุธุงู: `npm run restart`
3. ุชุญูู ูู ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช: `npm run db:check`
4. ุชูููุฐ ุชุดุฎูุต ุณุฑูุน ูููุธุงู: `npm run diagnose`
- **Chromium/Chrome:** ูุงุณุชุฎุฏุงู WhatsApp Web

## ุงูุฅุนุฏุงุฏ

1. ุชุซุจูุช ุงูุชุจุนูุงุช:
   ```bash
   npm install
   ```
2. ุถุจุท ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู ููู `.env`. ุชุฃูุฏ ูู ุชุบููุฑ ุงูููู ุงูุงูุชุฑุงุถูุฉ ูู`ADMIN_USERNAME` ู`ADMIN_PASSWORD` ูุจู ุชุดุบูู ุงููุธุงู.
3. ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุดุบูู ุงูุฅุนุฏุงุฏุงุช ุงูุฃูููุฉ:
   ```bash
   npm run setup
   ```
   ูุฐุง ุงูุฃูุฑ ูุดุบู ุณูุฑุจุช `scripts/init-database.js` ุงูุฐู ููุดุฆ ุงูุฌุฏุงูู
   ููู ุงููุฎุทุท ุงูููุฌูุฏ ูู `lib/database.ts` ุจูุง ูู ุฐูู ุงูุญููู ุงูุฌุฏูุฏุฉ
   ูุซู `updated_at` ู`role` ู`message_id`.

## ุงูุฃูุงูุฑ ุงูุฃุณุงุณูุฉ

- ุชุดุบูู ุจูุฆุฉ ุงูุชุทููุฑ:
  ```bash
  npm run dev
  ```
- ุชุดุบูู ุงูุฎุงุฏู ูู ูุถุน ุงูุฅูุชุงุฌ ุจุงุณุชุฎุฏุงู PM2:
  ```bash
  ./deploy.sh --pm2
  ```
- ุชุดุบูู ุงูุฎุงุฏู ูู ูุถุน ุงูุฅูุชุงุฌ ุจุงุณุชุฎุฏุงู Docker:
  ```bash
  ./deploy.sh --docker
  ```
- ุชูููุฐ ุงูุงุฎุชุจุงุฑุงุช:
  ```bash
  npm test
  ```

## ุณูุฑุจุช `deploy.sh`

ูููุฑ ุงูุณูุฑุจุช ุฎูุงุฑุงุช ูุชุนุฏุฏุฉ ููุชุญูู ูู ุนูููุฉ ุงููุดุฑ:

- `--docker` ูุดุฑ ุงูุชุทุจูู ุฏุงุฎู ุญุงููุงุช Docker.
- `--pm2` ุงุณุชุฎุฏุงู PM2 ูุฅุฏุงุฑุฉ ุงูุนูููุงุช (ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ).
- `--skip-tests` ุชุฎุทู ุชูููุฐ ุงูุงุฎุชุจุงุฑุงุช ูุจู ุงููุดุฑ.

ุฃูุซูุฉ:
```bash
./deploy.sh --docker
./deploy.sh --pm2 --skip-tests
```

## ุงุณุชุฎุฏุงู ููู `.env`

ูุญูู ุงูููู ุฌููุน ุงูุฅุนุฏุงุฏุงุช ุงูุญุณุงุณุฉ ูุซู ุงูููุงูุฐุ ูุณุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ูููุงุชูุญ JWT. ูุฌุจ ุชุนุฏูู ูุฐู ุงูููู ุจูุง ููุงุณุจ ุจูุฆุชู ูุนุฏู ุฅุจูุงุก ุจูุงูุงุช ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ ููุฏ ุงูุงุณุชุฎุฏุงู.

---

ุจุนุฏ ุฅููุงู ุงูุฅุนุฏุงุฏุ ููููู ุงูุจุฏุก ูู ุฅุฏุงุฑุฉ ุฑุณุงุฆู ูุงุชุณุงุจ ุจููุงุกุฉ ูุฃูุงู.
