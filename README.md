# WhatsApp Manager

<<<<<<< HEAD
ูุธุงู ุฅุฏุงุฑุฉ WhatsApp ุจุงุณุชุฎุฏุงู Docker

## ุงูุชุซุจูุช ูุงูุชุดุบูู

### ุงูุชุซุจูุช ุงูุณุฑูุน
\`\`\`bash
# ุชุญููู ุงููุดุฑูุน
git clone <repository-url>
cd whatsapp-manager

# ุชุดุบูู ุงูุชุซุจูุช ุงูุชููุงุฆู
chmod +x install.sh
./install.sh
\`\`\`

### ุงูุชุดุบูู ุงููุฏูู
\`\`\`bash
# ุฅุนุทุงุก ุตูุงุญูุงุช
chmod +x *.sh

# ุชุดุบูู ุงููุธุงู
./start.sh

# ุนุฑุถ ุงูุณุฌูุงุช
./logs.sh

# ุฅููุงู ุงููุธุงู
./stop.sh
\`\`\`

## ุงููุตูู ูููุธุงู

- **URL**: http://localhost:3000
- **ุงููุณุชุฎุฏู**: admin
- **ูููุฉ ุงููุฑูุฑ**: admin123

## ุงููุชุทูุจุงุช

- Docker
- Docker Compose

## ุงูุฃูุงูุฑ ุงููููุฏุฉ

\`\`\`bash
# ุนุฑุถ ุญุงูุฉ ุงูุญุงููุงุช
docker-compose ps

# ุฅุนุงุฏุฉ ุจูุงุก ุงูุตูุฑุฉ
docker-compose build --no-cache

# ุฅุนุงุฏุฉ ุชุดุบูู ุฎุฏูุฉ ูุนููุฉ
docker-compose restart whatsapp-manager

# ุฏุฎูู ููุญุงููุฉ
docker-compose exec whatsapp-manager sh
\`\`\`

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

\`\`\`bash
# ุนุฑุถ ุงูุณุฌูุงุช
docker-compose logs -f

# ูุญุต ุญุงูุฉ ุงูุฎุฏูุฉ
docker-compose ps

# ุฅุนุงุฏุฉ ุชุดุบูู ูุงูู
docker-compose down && docker-compose up -d
\`\`\`
\`\`\`

\`\`\`plaintext file=".gitignore"
# Dependencies
node_modules/
npm-debug.log*

# Next.js
.next/
out/

# Environment
.env*

# Database & Logs
data/
logs/
*.db

# Docker
.dockerignore

# OS
.DS_Store
Thumbs.db

# Temporary
*.tmp
*.temp
=======
**ุฅุตุฏุงุฑ ุงูุญุงูู:** v8.0.0

ูุธุงู ูุฅุฏุงุฑุฉ ุฑุณุงุฆู ูุงุชุณุงุจ ุนุจุฑ ูุงุฌูุฉ ููุจ ูุจูู ุนูู Next.js ูNode.js. ูููุฑ ุฅููุงููุฉ ุงูุชุญูู ูู ุงูุฃุฌูุฒุฉ ูุงูุฑุณุงุฆู ูุน ุฏุนู ุงููุดุฑ ุจุงุณุชุฎุฏุงู PM2 ุฃู Docker.

## ุงููุชุทูุจุงุช

- **Node.js:** >= 18.17.0
- **npm:** >= 9.0.0
- **SQLite:** 3.37+
- **Chromium/Chrome:** ููุชูุงุนู ูุน ูุงุชุณุงุจ ููุจ

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฃูุงู:** ูุฌุจ ุชุบููุฑ ุงุณู ุงููุณุชุฎุฏู ููููุฉ ูุฑูุฑ ุงููุฏูุฑ ุงูุงูุชุฑุงุถููู ูุจู ุงููุดุฑ.
   ูุซุงู ูุชุนูููููุง ุนุจุฑ ูุชุบูุฑุงุช ุงูุจูุฆุฉ:
   ```bash
   export ADMIN_USERNAME=myadmin
   export ADMIN_PASSWORD=supersecret
   ```
2. **ุงูุจูุฆุฉ:** ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู ููู `.env` ููุฅุนุฏุงุฏุงุช ุงูุญุณุงุณุฉ.
   ุนูุฏ ุงูุฅุนุฏุงุฏ ุงูุฃูููุ ุงูุณุฎ ุงูููู `.env.example` ุฅูู `.env` ุซู ุนุฏู ุงูููู ุญุณุจ ุงูุญุงุฌุฉ.
   ูููู ุชูููุฐ ุฐูู ุจุงูุฃูุฑ:
   ```bash
   cp .env.example .env
   ```
   ุงุญุฑุต ุจุนุฏ ุงููุณุฎ ุนูู ุถุจุท ูุชุบูุฑ **`JWT_SECRET`** ูู ููู `.env` ุฃู ูู ูุชุบูุฑุงุช ุงููุธุงู ูุจู ุชุดุบูู ุงูุชุทุจููุ
   ุญูุซ ุณูุชู ุฅุฒุงูุฉ ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ูุฑูุจูุง.
3. **ุงููุณุฎ ุงูุงุญุชูุงุทู:** ูู ุจุนูู ูุณุฎ ุงุญุชูุงุทูุฉ ุฏูุฑูุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช
4. **ุงูุชุญุฏูุซุงุช:** ุฑุงูุจ ุงูุชุญุฏูุซุงุช ุงูุฃูููุฉ ููููุชุจุงุช
5. **ูุณุงุฑุงุช ุงูุชุตุญูุญ:** ุฅู ูุณุงุฑู `/api/auth/test` ู`/api/debug/auth` ูุฎุตุตุงู
   ููุชุทููุฑ ููุท ููุชู ุชุนุทููููุง ุชููุงุฆููุง ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

ูู ุญุงูุฉ ูุฌูุฏ ุฃู ูุดุงูู:

1. ุชุญูู ูู ุณุฌูุงุช ุงููุธุงู: `npm run logs`
2. ุฃุนุฏ ุชุดุบูู ุงููุธุงู: `npm run restart`
3. ุชุญูู ูู ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช: `npm run db:check`
4. ุชูููุฐ ุชุดุฎูุต ุณุฑูุน ูููุธุงู: `npm run diagnose`
- **Chromium/Chrome:** ูุงุณุชุฎุฏุงู WhatsApp Web

## ุงูุฅุนุฏุงุฏ

1. ุชุซุจูุช ุงูุชุจุนูุงุช:
   ```bash
   npm install
   ```
2. ูุณุฎ ููู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถู ูุชุนุฏููู:
   ```bash
   cp .env.example .env
   ```
   ุจุนุฏ ุงููุณุฎุ ูู ุจุชุนุฏูู ุงูููู ุงูุงูุชุฑุงุถูุฉ ูุซู `ADMIN_USERNAME` ู`ADMIN_PASSWORD` ูุจู ุชุดุบูู ุงููุธุงู.
2. ุถุจุท ูุชุบูุฑุงุช ุงูุจูุฆุฉ ูู ููู `.env`. ุชุฃูุฏ ูู ุชุบููุฑ ุงูููู ุงูุงูุชุฑุงุถูุฉ ูู`ADMIN_USERNAME` ู`ADMIN_PASSWORD` ูุจู ุชุดุบูู ุงููุธุงู.
   ูููู ุฃูุถุงู ุชุนูููููุง ูุจุงุดุฑุฉ ุนุจุฑ ุงูุทุฑููุฉ:
   ```bash
   export ADMIN_USERNAME=myadmin
   export ADMIN_PASSWORD=supersecret
   ```
3. ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุดุบูู ุงูุฅุนุฏุงุฏุงุช ุงูุฃูููุฉ:
   ```bash
   npm run setup
   ```
   ูุฐุง ุงูุฃูุฑ ูุดุบู ุณูุฑุจุช `scripts/init-database.js` ุงูุฐู ููุดุฆ ุงูุฌุฏุงูู
   ููู ุงููุฎุทุท ุงูููุฌูุฏ ูู `lib/database.ts` ุจูุง ูู ุฐูู ุงูุญููู ุงูุฌุฏูุฏุฉ
   ูุซู `updated_at` ู`role` ู`message_id`.

## ุงูุฃูุงูุฑ ุงูุฃุณุงุณูุฉ

- ุชุดุบูู ุจูุฆุฉ ุงูุชุทููุฑ:
  ```bash
  npm run dev
  ```
- ุชุดุบูู ุงูุฎุงุฏู ูู ูุถุน ุงูุฅูุชุงุฌ ุจุงุณุชุฎุฏุงู PM2:
  ```bash
  ./deploy.sh --pm2
  ```
- ุชุดุบูู ุงูุฎุงุฏู ูู ูุถุน ุงูุฅูุชุงุฌ ุจุงุณุชุฎุฏุงู Docker:
  ```bash
  ./deploy.sh --docker
  ```
- ุชูููุฐ ุงูุงุฎุชุจุงุฑุงุช:
  ```bash
  npm test
  ```
- **ููุงุญุธุฉ:** ุชุฃูุฏ ูู ุชุดุบูู `npm install` ูุจู ุชูููุฐ ุงูุงุฎุชุจุงุฑุงุช ูุถูุงู ุชููุฑ ุฌููุน ุงูุชุจุนูุงุช.

## ุณูุฑุจุช `deploy.sh`

ูููุฑ ุงูุณูุฑุจุช ุฎูุงุฑุงุช ูุชุนุฏุฏุฉ ููุชุญูู ูู ุนูููุฉ ุงููุดุฑ:

- `--docker` ูุดุฑ ุงูุชุทุจูู ุฏุงุฎู ุญุงููุงุช Docker.
- `--pm2` ุงุณุชุฎุฏุงู PM2 ูุฅุฏุงุฑุฉ ุงูุนูููุงุช (ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ).
- `--skip-tests` ุชุฎุทู ุชูููุฐ ุงูุงุฎุชุจุงุฑุงุช ูุจู ุงููุดุฑ.

ุฃูุซูุฉ:
```bash
./deploy.sh --docker
./deploy.sh --pm2 --skip-tests
```

## ุงุณุชุฎุฏุงู ููู `.env`

ูุญูู ุงูููู ุฌููุน ุงูุฅุนุฏุงุฏุงุช ุงูุญุณุงุณุฉ ูุซู ุงูููุงูุฐุ ูุณุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ูููุงุชูุญ JWT. ูุฌุจ ุชุนุฏูู ูุฐู ุงูููู ุจูุง ููุงุณุจ ุจูุฆุชู ูุนุฏู ุฅุจูุงุก ุจูุงูุงุช ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ ููุฏ ุงูุงุณุชุฎุฏุงู. ูููู ุถุจุท ุงููุชุบูุฑ `HOST` ูุชุญุฏูุฏ ุงูุนููุงู ุงูุฐู ูุณุชูุน ุนููู ุงูุฎุงุฏูุ ูุงููููุฉ ุงูุงูุชุฑุงุถูุฉ ูู `0.0.0.0`.
ุชุฃูุฏ ูู ุชุนููู ูุชุบูุฑ **`JWT_SECRET`** ูุจู ุชุดุบูู ุงูุชุทุจููุ ูุงููููุฉ ุงูุงุญุชูุงุทูุฉ ุงูุญุงููุฉ ุณูุชู ุฅุฒุงูุชูุง ูุงุญููุง.

### ุฃูู ุงููุชุบูุฑุงุช ุงูุงูุชุฑุงุถูุฉ

| ุงููุชุบูุฑ | ุงููููุฉ ุงููุจุฏุฆูุฉ | ุงููุตู |
|---------|-----------------|-------|
| `HOST` | `0.0.0.0` | ุนููุงู ุงูุงุณุชูุงุน ููุฎุงุฏู |
| `PORT` | `3000` | ุงููููุฐ ุงูุฑุฆูุณู ููุชุทุจูู |
| `WEBSOCKET_PORT` | `3001` | ูููุฐ ุฎุฏูุฉ WebSocket |
| `ADMIN_USERNAME` | `admin` | ุงุณู ุงููุณุชุฎุฏู ุงูุงูุชุฑุงุถู ูููุญุฉ ุงูุชุญูู |
| `ADMIN_PASSWORD` | `admin123` | ูููุฉ ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ |
| `DATABASE_PATH` | `./data/whatsapp_manager.db` | ูุณุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช |
| `JWT_SECRET` | `change-me` | ููุชุงุญ ุชูููุน JSON Web Token |

## ููุงุญุธุงุช ุงููุดุฑ ุนูู ุงูุฎุงุฏู

ุจุนุฏ ุชุดุบูู `npm run build` ุณูููุดุฆ Next.js ูุฌูุฏ `.next` ูุงูุฐู ูุญุชูู ุนูู `standalone` ู`static`. ุงุญุฑุต ุนูู ุฑูุน ุงููุฌูุฏูู ูุนูุง ุฏุงุฎู ุงููุณุงุฑ ููุณู ุนูุฏ ููู ุงููุดุฑูุน. ุนุฏู ูุฌูุฏ ูุฌูุฏ `static` ูุณุจุจ ุฃุฎุทุงุก 404 ูููููุงุช ุชุญุช `/_next/static`.


## ุงุณุชูุฑุงุฏ ููููุงุช ูุงุฌูุฉ ุงููุณุชุฎุฏู

ููููู ุฅุถุงูุฉ ููููุงุช ุฌุฏูุฏุฉ ูู ููุชุจุฉ **shadcn/ui** ุนุจุฑ ุชูููุฐ:

```bash
npx shadcn@latest add <component-url>
```

ูุนุฏู ูุฐุง ุงูุฃูุฑ ุจุนุถ ูููุงุช ุงููุดุฑูุน ููุฏ ููุดุฆ ูููุงุช ุฌุฏูุฏุฉ ุฏุงุฎู ูุฌูุฏ `components` ุฃู ูุฌูุฏุงุช ุฃุฎุฑู ุญุณุจ ุงููููู. ุจุนุฏ ุงูุชูููุฐ ุชุฃูุฏ ูู ูุฌุงุญ ุฃูุงูุฑ ุงูุจูุงุก ูุงูุชุฏููู:

```bash
npm run build
npm run lint
```

ุฅุฐุง ูุฑุช ุงูุฃูุงูุฑ ุจุฏูู ุฃุฎุทุงุก ูู ุจุฅูุดุงุก **commit** ููุชุบููุฑุงุช.

---

ุจุนุฏ ุฅููุงู ุงูุฅุนุฏุงุฏุ ููููู ุงูุจุฏุก ูู ุฅุฏุงุฑุฉ ุฑุณุงุฆู ูุงุชุณุงุจ ุจููุงุกุฉ ูุฃูุงู.

>>>>>>> 83e0b5f7cbb5c54a0d6a252d420d7c6ecc85a6da
